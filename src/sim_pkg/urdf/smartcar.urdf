<?xml version="1.0" ?>
<robot name="smartcar" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- 颜色 -->
  <gazebo reference="car_head">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="landing_pad">
    <material>Gazebo/White</material>
  </gazebo>
  <gazebo reference="base_link">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="right_front_wheel">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_back_wheel">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="left_front_wheel">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="left_back_wheel">
    <material>Gazebo/Black</material>
  </gazebo>

  <gazebo>
    <plugin name="mecanum_controller" filename="libgazebo_ros_planar_move.so">
      <commandTopic>cmd_vel</commandTopic>
      <yDirection>-1</yDirection>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <odometryRate>20.0</odometryRate>
      <robotBaseFrame>base_footprint</robotBaseFrame>
      <publishTf>true</publishTf>
      <publishOdomTF>true</publishOdomTF>
      <publishWheelTF>false</publishWheelTF>
      <publishWheelJointState>true</publishWheelJointState>
      <updateRate>75.0</updateRate>
    </plugin>
  </gazebo>
    <link name="base_footprint">
    </link>

    <joint name="base_footprint_joint" type="fixed">
        <parent link="base_footprint" />
        <child link="base_link" />
        <origin xyz="0 0 0.082" rpy="0 0 -1.57075" />
    </joint>

    <link name="base_link">
        <visual>
            <geometry>
                <box size="0.32 .15 .05" />
            </geometry>

            <origin rpy="0 0 1.57075" xyz="0 0 0" />

            <material name="blue">
                <color rgba="0 .5 .8 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <box size="0.32 .15 .05" />
            </geometry>
            <origin rpy="0 0 1.57075" xyz="0 0 0" />
        </collision>
        <inertial>
            <mass value="2.5" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.0208"
                ixy="0"
                ixz="0"
                iyy="0.0347"
                iyz="0"
                izz="0.0427"
            />
        </inertial>
    </link>
    
    <link name="right_front_wheel">
        <visual>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>

            <material name="grey">
                <color rgba="0.1 0.1 0.1 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>
            <surface>
               <friction>
                 <ode>
                   <mu>1.2</mu>
                   <mu2>1.0</mu2>
                   <slip1>0.0</slip1>
                   <slip2>0.0</slip2>
                 </ode>
               </friction>
               <contact>
                 <ode>
                   <kp>5e5</kp>
                   <kd>1e3</kd>
                   <max_vel>0.2</max_vel>
                   <min_depth>0.001</min_depth>
                 </ode>
               </contact>
             </surface>
        </collision>
        <inertial>
            <mass value="0.8" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.001"
                ixy="0"
                ixz="0"
                iyy="0.001"
                iyz="0"
                izz="0.0015"
            />
        </inertial>
    </link>

    <joint name="right_front_wheel_joint" type="fixed">
        <axis xyz="0 0 1" />
        <parent link="base_link" />
        <child link="right_front_wheel" />
        <origin rpy="0 1.57075 0" xyz="0.095 0.11 -0.03" />
        <limit effort="50" velocity="50" />
        <dynamics damping="1.0" friction="1.0" />
    </joint>

    <link name="right_back_wheel">
    <visual>
        <geometry>
        <cylinder length=".04" radius="0.05" />
        </geometry>
        <material name="gray">
        <color rgba="0.1 0.1 0.1 1" />
        </material>
    </visual>
    <collision>
        <geometry>
            <cylinder length=".04" radius="0.05" />
        </geometry>
        <surface>
           <friction>
             <ode>
               <mu>1.2</mu>
               <mu2>1.0</mu2>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
               <kp>5e5</kp>
               <kd>1e3</kd>
               <max_vel>0.2</max_vel>
               <min_depth>0.001</min_depth>
             </ode>
           </contact>
         </surface>
    </collision>
    <inertial>
        <mass value="0.8" />
        <origin xyz="0 0 0" rpy="0 0 0" />
        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.0015" />
    </inertial>
    </link>

    <joint name="right_back_wheel_joint" type="fixed">
        <axis xyz="0 0 1" />
        <parent link="base_link" />
        <child link="right_back_wheel" />
        <origin rpy="0 1.57075 0" xyz="0.095 -0.11 -0.03" />
        <limit effort="50" velocity="50" />
        <dynamics damping="1.0" friction="1.0" />
    </joint>

    <link name="left_front_wheel">
        <visual>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>
            <material name="grey">
                <color rgba="0.1 0.1 0.1 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>
            <surface>
               <friction>
                 <ode>
                   <mu>1.2</mu>
                   <mu2>1.0</mu2>
                   <slip1>0.0</slip1>
                   <slip2>0.0</slip2>
                 </ode>
               </friction>
               <contact>
                 <ode>
                   <kp>5e5</kp>
                   <kd>1e3</kd>
                   <max_vel>0.2</max_vel>
                   <min_depth>0.001</min_depth>
                 </ode>
               </contact>
             </surface>
        </collision>
        <inertial>
            <mass value="0.8" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.001"
                ixy="0"
                ixz="0"
                iyy="0.001"
                iyz="0"
                izz="0.0015"
            />
        </inertial>
    </link>

    <joint name="left_front_wheel_joint" type="fixed">
        <axis xyz="0 0 1" />
        <parent link="base_link" />
        <child link="left_front_wheel" />
        <origin rpy="0 1.57075 0" xyz="-0.095 0.11 -0.03" />
        <limit effort="50" velocity="50" />
        <dynamics damping="1.0" friction="1.0" />
    </joint>

    <link name="left_back_wheel">
        <visual>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>
            <material name="black">
                <color rgba="0.1 0.1 0.1 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <cylinder length=".04" radius="0.05" />
            </geometry>
            <surface>
               <friction>
                 <ode>
                   <mu>1.2</mu>
                   <mu2>1.0</mu2>
                   <slip1>0.0</slip1>
                   <slip2>0.0</slip2>
                 </ode>
               </friction>
               <contact>
                 <ode>
                   <kp>5e5</kp>
                   <kd>1e3</kd>
                   <max_vel>0.2</max_vel>
                   <min_depth>0.001</min_depth>
                 </ode>
               </contact>
             </surface>
        </collision>
        <inertial>
            <mass value="0.8" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.001"
                ixy="0"
                ixz="0"
                iyy="0.001"
                iyz="0"
                izz="0.0015"
            />
        </inertial>
    </link>

    <joint name="left_back_wheel_joint" type="fixed">
        <axis xyz="0 0 1" />
        <parent link="base_link" />
        <child link="left_back_wheel" />
        <origin rpy="0 1.57075 0" xyz="-0.095 -0.11 -0.03" />
        <limit effort="50" velocity="50" />
        <dynamics damping="1.0" friction="1.0" />
    </joint>

    <link name="head">
        <visual>
            <geometry>
                <box size=".02 .03 .03" />
            </geometry>
            <material name="white">
                <color rgba="1 1 1 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <box size=".02 .03 .03" />
            </geometry>
        </collision>
        <inertial>
            <mass value="0.05" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.000001"
                ixy="0"
                ixz="0"
                iyy="0.000001"
                iyz="0"
                izz="0.000001"
            />
        </inertial>
    </link>

    <joint name="tobox" type="fixed">
        <parent link="base_link" />
        <child link="head" />
        <origin xyz="0 0.08 0.023" />
    </joint>

    <link name="landing_pad">
        <visual>
            <geometry>
                <box size="0.35 0.35 0.012" />
            </geometry>
            <material name="gray">
                <color rgba="0.7 0.7 0.7 1" />
            </material>
        </visual>
        <collision>
            <geometry>
                <box size="0.35 0.35 0.012" />
            </geometry>
        </collision>
        <inertial>
            <mass value="1.5" />
            <origin xyz="0 0 0" rpy="0 0 0" />
            <inertia
                ixx="0.0094"
                ixy="0"
                ixz="0"
                iyy="0.0078"
                iyz="0"
                izz="0.0156"
            />
        </inertial>
    </link>

    <joint name="landing_pad_joint" type="fixed">
        <parent link="base_link" />
        <child link="landing_pad" />
        <origin xyz="0 0 0.06" />
    </joint>

    <!-- 支架 x 4 -->
    <link name="landing_pad_stick_1">
        <visual>
            <geometry>
                <box size="0.02 0.02 0.04" />
            </geometry>
            <material name="gray">
                <color rgba="0.7 0.7 0.7 1" />
            </material>
        </visual>
    </link>

    <joint name="landing_pad_stick_1_joint" type="fixed">
        <parent link="base_link" />
        <child link="landing_pad_stick_1" />
        <origin xyz="0.06 0.12 0.04" />
    </joint>

    <link name="landing_pad_stick_2">
        <visual>
            <geometry>
                <box size="0.02 0.02 0.04" />
            </geometry>
            <material name="gray">
                <color rgba="0.7 0.7 0.7 1" />
            </material>
        </visual>
    </link>

    <joint name="landing_pad_stick_2_joint" type="fixed">
        <parent link="base_link" />
        <child link="landing_pad_stick_2" />
        <origin xyz="-0.06 0.12 0.04" />
    </joint>

    <link name="landing_pad_stick_3">
        <visual>
            <geometry>
                <box size="0.02 0.02 0.04" />
            </geometry>
            <material name="gray">
                <color rgba="0.7 0.7 0.7 1" />
            </material>
        </visual>
    </link>

    <joint name="landing_pad_stick_3_joint" type="fixed">
        <parent link="base_link" />
        <child link="landing_pad_stick_3" />
        <origin xyz="-0.06 -0.12 0.04" />
    </joint>

    <link name="landing_pad_stick_4">
        <visual>
            <geometry>
                <box size="0.02 0.02 0.04" />
            </geometry>
            <material name="gray">
                <color rgba="0.7 0.7 0.7 1" />
            </material>
        </visual>
    </link>

    <joint name="landing_pad_stick_4_joint" type="fixed">
        <parent link="base_link" />
        <child link="landing_pad_stick_4" />
        <origin xyz="0.06 -0.12 0.04" />
    </joint>
    <!-- 支架 x 4 -->

    <link name="car_head">
        <visual>
            <geometry>
                <box size=".13 .05 .03" />
            </geometry>
            <material name="Black">
                <color rgba="0.5 0.8 0.2 1" />
            </material>
        </visual>
    </link>
     <joint name="car_head_joint" type="fixed">
        <parent link="base_link" />
        <child link="car_head" />
        <origin xyz="0.0 0.15 0.0" />
    </joint>
</robot>
